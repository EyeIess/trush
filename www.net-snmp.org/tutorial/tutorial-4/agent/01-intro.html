
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  
<!-- Mirrored from www.net-snmp.org/tutorial/tutorial-4/agent/01-intro.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 May 2024 19:17:02 GMT -->
<head>
    <title>Net-SNMP</title>

    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Language" content="en-us" />

    
    <meta name="description" content="Net-SNMP" />

    <meta name="author" content="Alex Burger" />

    <meta name="Rating" content="General" />

    <meta name="Keywords" content="net-snmp,ucd-snmp,netsnmp,ucdsnmp,snmp,snmp trap,trap,trap receiver,alert,network alert,network trouble,network downtime,snmp.conf,snmpd.conf,snmptrapd.conf,agentx.conf" />
    <link rel="StyleSheet" type="text/css" href="../../../layout1.css" />
    <link rel="StyleSheet" media="print,projection" type="text/css" href="../../../print1.css" />
  </head>
  <body background="../../../images/net-snmp-bg2.jpg">
   
    <div id="Header">
      <!-- slogan -->
      <div class="HeaderSmall" align="right"><br /><br /><i>Current release: 5.9.2</i></div>
    </div>

    <div id="HeaderMap">
      <map name="logo" id="logo">
        <area alt="Logo" shape="rect" coords="0,0,2000,40" href="../../../logo.html" title="Click here for details about the original Net-SNMP / UCD-SNMP logo"></area>
      </map>
      <img align="left" vspace="0" hspace="0" width="100%" height="40" border="0" src="../../../images/blank3.gif" alt="Logo" usemap="#logo"/> <br />
    </div>

    <div id="Header2">
      <map name="homepage" id="homepage">
        <area alt="Home page" shape="rect" coords="0,0,130,30" href="../../../index.html"></area>
      </map>
      <img align="left" vspace="0" hspace="0" width="130" height="30" border="0" src="../../../images/logos/logo1_65_tr_small.gif" alt="Net-SNMP" usemap="#homepage"/> <br />
    </div>

    
    <div id="LeftSide">
      <div id="skip"><a href="#Content">skip to page content</a><br /><br /></div>
      <div id="Menu">

        <!-- <a href="/" >Home</a><br /> -->

        <a href="../../../index.html">About</a><br />
        

        <a href="../../../download.html" title="Download Net-SNMP binaries and source code">Download</a><br />

        <a href="../../../wiki/index.php/Tutorials.html" >Tutorials</a><br />
        
        <div id = "MenuSub">
          <table>
            <tr><td>&nbsp;&middot;</td><td><a href="../../tutorial-5/index.html"
                  title="Net-SNMP v5 tutorial">Version 5.x</a></td></tr>
            <tr><td>&nbsp;&middot;</td><td><a href="../index.html"
                  title="UCD-SNMP v4 tutorial">Version 4.x</a></td></tr>
          </table>
        </div>
        

        <a href="../../../docs/readmefiles.html">Documentation</a><br />
        

        <a href="../../../wiki/index.html" title="Net-SNMP Wiki">Wiki</a><br />

        <a href="../../../support/contacts.html" >Support</a><br />
        

        <a href="../../../dev/projects.html">Development</a><br />
        

        <a href="../../../related.html" title="Links to Net-SNMP related information and software">Related Info/SW</a><br />

        <br />
      </div>
      <br />

      <div id="ListSearch">
          <form method="post" action="http://sourceforge.net/search/">
          <span class="small">Archive Search:</span>
       
          <select name="forum_id">
            <option value="4959">Users</option>
            <option value="7152">Coders</option>
            <option value="12455">Announce</option>
            <option value="7153">Bugs</option>
            <option value="7151">Patches</option>
            <option value="33108">SVN (named "CVS")</option>
          </select>
       
          <input type="hidden" name="type_of_search" value="mlists" />
          <input type="hidden" name="group_id" value="12694" />
          <input type="text" name="words" size=15 id="Words" value="" /><br />
          <input type="submit" name="Search" value="Search" /><br />
          <input type="checkbox" name="exact" value="1" checked />
          <span id="Label">Require all words?</span>   
        </form>
      </div>
      <br />

      <div id="SiteSearch">
          <form method=GET action="http://www.google.com/search">
          <span class="small">Site Search:</span>
          
          <input type=hidden name=ie value=UTF-8>
          <input type=hidden name=oe value=UTF-8>
          <input type="text" name=q size=15 maxlength=255 value="" /><br />
          <input type=hidden name=sitesearch value="www.net-snmp.org">
          <input type=submit name=btnG VALUE="Google Search">
          <a href="http://www.google.com/">
            <img src="../../../../www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="absmiddle"></A>

        </form>
      </div>


      
      <div id="MenuSFLogo">
        <a href="http://www.sourceforge.net/projects/net-snmp" target="sourceforge" title="Net-SNMP SourceForge project page"> <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=12694&amp;type=2" width="125" height="37" border="0" alt="SourceForge.net Net-SNMP Project" /></a>
        
      </div>
  </div>
    
  <div id="Content">


<!-- CONTENT START -->
<HTML>
<HEAD>
<TITLE>Extending the UCD agent - overview</TITLE>
</HEAD>
<BODY>
<H1> How to write a Mib module </H1>

<H2>Introduction</H2>

The design of the UCD SNMP agent has always been shaped by the desire
to be able to extend its functionality by adding new modules.
One of the earliest developments from the underlying CMU code base
was the ability to call external scripts, and this is probably the
simplest method of extending the agent.
<BR>
  However, there are circumstances where such an approach is felt to
be inappropriate - perhaps from considerations of speed, access to
the necessary data, reliability or elegance.  In such cases, the obvious
solution is to provide C code that can be compiled into the agent itself
to implement the desired module.  Many of the more recent developments in
the code structure have been intended to ease this process.
In particular, one of the more recent additions to the suite is the tool
<CODE>mib2c</CODE>.  This is designed to take a portion of the MIB tree
(as defined by a MIB file) and generate the code skeleton necessary to
implement this.  This document will cover the use <CODE>mib2c</CODE>,
as well as describing the requirements and functionality of the code
in more detail.

<P>
  In order to implement a new MIB module, three files are necessary,
and these will be considered in turn.  Note that, by the very nature of
the task, this document cannot cover the details of precisely how to obtain
the necessary information from the operating system or application.
Instead, it describes the code framework that is needed, freeing the
implementer from needing to understand the detailed internals of the agent,
and allowing them to concentrate on the particular problem in hand.

<P>
  It may prove useful to examine some of the existing module implementations
and examples in the light of this description, and suitable examples will
be referred to at the appropriate points.  However, it should be remembered
that the UCD agent seeks to support a wide variety of systems, often with
dramatically differing implementations and interfaces, and this is
reflected in the complexity of the code.  Also, the agent has developed
gradually over the years, and there is often some measure of duplication
or redundancy as a result.
<BR>
  As the FAQ states, the official slogan of the UCD-SNMP developers is
<BLOCKQUOTE>
	<I>The current implementation is non-obvious and may need to be improved.</I>
</BLOCKQUOTE>
This document describes the ideal, straightforward cases - real life is
rarely so simple, and the example modules may prove easier to follow at
a first reading.
<BR>
  It is also advisable to have a compiled and installed implementation
available before starting to extend the agent.  This will make debugging
and testing the agent much easier.

<P>
  A note regarding terminology - the word "module" is widely used throughout
this document, with a number of different meanings.
<UL>
<LI>support for a new MIB,<BR>
		i.e. the whole of the  functionality that is required.
		This is usually termed a <I>MIB module</I>;
<LI> a self-contained subset of this,
		implemented as a single unit. <BR>
		This is usually termed an <I>implementation module</I>
		(or simply "a module");
<LI>  the combination of such subsets,
		usually termed a <I>module group</I>.
</UL>

Note that the first and third of these are often synonymous - the
difference being that a MIB module refers to the view from outside the agent,
regarding this as a seamless whole and hiding the internal implementation.
A "module group" is used where the internal structure is of more relevance,
and recognises the fact that the functionality may be provided by a number
of co-operating implementation modules.
<P>
  Anyway, enough waffle - on with the details: The three files needed are
<UL>
<LI>  a MIB definition file;
<LI>  a C header file;
<LI>  a C implementation file.
</UL>
The <A HREF="02-mib.html">next part</A> looks at the MIB definition
file, and how this impacts on the agent implementation.
<P><HR>
Copyright 1999 - D.T.Shield.
Not to be distributed without the explicit permission of the author.
</BODY>

<!-- Mirrored from www.net-snmp.org/tutorial/tutorial-4/agent/01-intro.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 May 2024 19:17:02 GMT -->
</HTML>
[an error occurred while processing this directive]
<!-- CONTENT END -->
<br />
<div id="w3Valid" class="w3Valid">
<p>
<!-- 
<a href="http://validator.w3.org/check/referer">
  <img src="/images/valid-xhtml10.png" style="border:0"
  alt="Valid XHTML 1.0!" height="31" width="88"/></a>
-->
<a href="../../../../jigsaw.w3.org/css-validator/validator6472.html?uri=http://www.net-snmp.org/layout1.css">
  <img style="border:0;width:88px;height:31px"
  src="../../../images/vcss.png" 
       alt="Valid CSS!" />
 </a>
</p>
</div> <!-- w3Valid /div -->
</div> <!-- CONTENT END /div -->

<div id="ModificationDate" class="ModificationDate">
  <hr />

<!-- MODIFICATION DATE START -->

<p>Last modified: Wednesday, 01-Aug-2018 04:41:28 UTC<br/>
For questions regarding web content and site functionality, please write to the <a href="mailto:net-snmp-users@lists.sourceforge.net">net-snmp-users mail list</a>.</p>

<!-- MODIFICATION DATE END -->

</div>

</body>

</html>



