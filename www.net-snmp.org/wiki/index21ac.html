

<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from www.net-snmp.org/wiki/index.php?title=TUT:Simple_Async_Application&oldid=5850 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 May 2024 18:23:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>TUT:Simple Async Application - Net-SNMP Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"TUT:Simple_Async_Application","wgTitle":"TUT:Simple Async Application","wgCurRevisionId":5850,"wgRevisionId":5850,"wgArticleId":1751,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!1,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"TUT:Simple_Async_Application","wgRelevantArticleId":1751,"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits"]);
} );</script>
<link rel="stylesheet" href="load34a1.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook" />
<!--[if IE 6]><link rel="stylesheet" href="/wiki/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="load3a95.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.26.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://www.net-snmp.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://www.net-snmp.org/wiki/opensearch_desc.php" title="Net-SNMP Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://www.net-snmp.org/wiki/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Net-SNMP Wiki Atom feed" href="http://www.net-snmp.org/wiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-TUT_Simple_Async_Application skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">TUT:Simple Async Application</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Net-SNMP Wiki</div>
					<div id="contentSub"><div id="mw-revision-info">Revision as of 14:33, 11 November 2014 by <a href="http://www.net-snmp.org/wiki/index.php?title=User:Stephen&amp;action=edit&amp;redlink=1" class="new mw-userlink" title="User:Stephen (page does not exist)">Stephen</a> <span class="mw-usertoollinks">(<a href="http://www.net-snmp.org/wiki/index.php?title=User_talk:Stephen&amp;action=edit&amp;redlink=1" class="new" title="User talk:Stephen (page does not exist)">Talk</a> | <a href="http://www.net-snmp.org/wiki/index.php/Special:Contributions/Stephen" title="Special:Contributions/Stephen">contribs</a>)</span></div><br />
				<div id="mw-revision-nav">(<a href="http://www.net-snmp.org/wiki/index.php?title=TUT:Simple_Async_Application&amp;diff=prev&amp;oldid=5850" title="TUT:Simple Async Application">diff</a>) <a href="http://www.net-snmp.org/wiki/index.php?title=TUT:Simple_Async_Application&amp;direction=prev&amp;oldid=5850" title="TUT:Simple Async Application">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>Here we discuss how to write an asynchronous application. It's only purpose is to retrieve the value of a set of variables from a set of remote hosts. (This is for the C library, see <a href="http://www.net-snmp.org/wiki/index.php/TUT:Simple_Perl_Async_Application" title="TUT:Simple Perl Async Application">TUT:Simple_Perl_Async_Application</a> for Perl.)
</p><p>Here are the files discussed in this example so you can download them: 
</p>
<table cellspacing="0" border="1" style="background-color: #ccf; margin-left: 50px;">
<tr>
<th> File
</th>
<th> Description
</th></tr>
<tr>
<td> <a rel="nofollow" class="external text" href="http://www.net-snmp.org/tutorial/tutorial-5/toolkit/demoapp/Makefile">Makefile</a> </td>
<td> A simple makefile used to build the projects
</td></tr>
<tr>
<td> <a rel="nofollow" class="external text" href="http://www.net-snmp.org/tutorial/tutorial-5/toolkit/mib_module/NET-SNMP-TUTORIAL-MIB.txt">NET-SNMP-TUTORIAL-MIB.txt</a> </td>
<td> The MIB we'll be writing code for in the various pieces of the agent extension tutorial
</td></tr>
<tr>
<td> <a rel="nofollow" class="external text" href="http://www.net-snmp.org/tutorial/tutorial-5/toolkit/asyncapp/asyncapp.c">asyncapp.c</a> </td>
<td> The Asynchronous C source code
</td></tr></table>
<p>This discussion assumes that you already have read the snmpdemoapp tutorial section. 
</p><p>The program assumes that you have a set of hosts that you want to interrogate for a set of variables. For simplicity's sake each query just asks for one variable. 
</p><p>The program defines two structures, struct host which holds the host specific data, hostname and community to be used, and struct oid which holds the object to be queried for. 
</p>
<pre> /*
  * a list of hosts to query
  */
 struct host {
   char *name;
   char *community;
 } hosts[] = {
   { "test1",            "public" },
   { "test2",            "public" },
   { "test3",            "public" },
   { "test4",            "public" },
   { NULL }
 };
 
 /*
  * a list of variables to query for
  */
 struct oid {
   char *Name;
   oid Oid[MAX_OID_LEN];
   int OidLen;
 } oids[] = {
   { "system.sysDescr.0" },
   { "interfaces.ifNumber.1" },
   { "interfaces.ifNumber.0" },
   { NULL }
 };
</pre>
<p>As a brush up, we then define the function synchronous that scans the hosts using synchronous calls: 
</p>
<pre> void synchronous (void)
 {
   struct host *hp;
 
   for (hp = hosts; hp-&gt;name; hp++) {
     struct snmp_session ss, *sp;
     struct oid *op;
 
     snmp_sess_init(&amp;ss);                        /* initialize session */
     ss.version = SNMP_VERSION_2c;
     ss.peername = hp-&gt;name;
     ss.community = hp-&gt;community;
     ss.community_len = strlen(ss.community);
     snmp_synch_setup(&amp;ss);
     if (!(sp = snmp_open(&amp;ss))) {
       snmp_perror("snmp_open");
       continue;
     }
     for (op = oids; op-&gt;Name; op++) {
       struct snmp_pdu *req, *resp;
       int status;
       req = snmp_pdu_create(SNMP_MSG_GET);
       snmp_add_null_var(req, op-&gt;Oid, op-&gt;OidLen);
       status = snmp_synch_response(sp, req, &amp;resp);
       if (!print_result(status, sp, resp)) break;
       snmp_free_pdu(resp);
     }
     snmp_close(sp);
   }
 }
</pre>
<p>This should contain no surprises, as you already mastered the
snmpdemoapp chapter.
</p><p>Now onto the new material. We define a struct session to hold our per-host state:
</p>
<pre> struct session {
   struct snmp_session *sess;          /* SNMP session data */ 
   struct oid *current_oid;            /* How far in our poll are we */
 } sessions[sizeof(hosts)/sizeof(hosts[0])];
 
 int active_hosts;                     /* hosts that we have not completed */
</pre>
<p>We then need a callback function, to be called whenever a response is received: 
</p>
<pre> int asynch_response(int operation, struct snmp_session *sp, int reqid,
                     struct snmp_pdu *pdu, void *magic)
 {
   struct session *host = (struct session *)magic;
   struct snmp_pdu *req;
 
</pre>
<p>whenever a response is received, we will print it out, and send the next request out: 
</p>
<pre>   if (operation == RECEIVED_MESSAGE) {
     if (print_result(STAT_SUCCESS, host-&gt;sess, pdu)) {
       host-&gt;current_oid++;                      /* send next GET (if any) */
       if (host-&gt;current_oid-&gt;Name) {
 
</pre>
<p>there is still more to do ... build the next request 
</p>
<pre>         req = snmp_pdu_create(SNMP_MSG_GET);
         snmp_add_null_var(req, host-&gt;current_oid-&gt;Oid, host-&gt;current_oid-&gt;OidLen);
         if (snmp_send(host-&gt;sess, req))
 
</pre>
<p>we are still in business 
</p>
<pre>           return 1;
         else {
 
</pre>
<p>something went wrong. Print out error message, and fall through to decrement active_hosts 
</p>
<pre>           snmp_perror("snmp_send");
           snmp_free_pdu(req);
         }
       }
     }
   }
   else
     print_result(STAT_TIMEOUT, host-&gt;sess, pdu);
</pre>
<pre>   /* something went wrong (or end of variables)
    * this host not active any more
    */
   active_hosts--;
   return 1;
 }
</pre>
<p>Now the code to fire this up, and keep it running until we are done 
</p>
<pre> void asynchronous(void)
 {
   struct session *hs;
   struct host *hp;
</pre>
<p>First we loop through all the hosts, opening a session for each and sending out the first request: 
</p>
<pre>   /* startup all hosts */
   for (hs = sessions, hp = hosts; hp-&gt;name; hs++, hp++) {
     struct snmp_pdu *req;
     struct snmp_session sess;
     snmp_sess_init(&amp;sess);                    /* initialize session */
     sess.version = SNMP_VERSION_2c;
     sess.peername = hp-&gt;name;
     sess.community = hp-&gt;community;
     sess.community_len = strlen(sess.community);
</pre>
<p>The next two lines is where we deviate from the good old sync setup 
</p>
<pre>     sess.callback = asynch_response;            /* default callback */
     sess.callback_magic = hs;
     if (!(hs-&gt;sess = snmp_open(&amp;sess))) {
       snmp_perror("snmp_open");
       continue;
     }
     hs-&gt;current_oid = oids;
     req = snmp_pdu_create(SNMP_MSG_GET);        /* send the first GET */
     snmp_add_null_var(req, hs-&gt;current_oid-&gt;Oid, hs-&gt;current_oid-&gt;OidLen);
     if (snmp_send(hs-&gt;sess, req))
       active_hosts++;
     else {
       snmp_perror("snmp_send");
       snmp_free_pdu(req);
     }
   }
</pre>
<p>That was the startup code. Now we just wait for things to settle down again. All the real work is handled inside the callback function. 
</p>
<pre>   /* loop while any active hosts */
   while (active_hosts) {
     int fds = 0, block = 1;
     fd_set fdset;
     struct timeval timeout;
</pre>
<p>snmp_select_info is the function that gets us all we need to be able to call select 
</p>
<pre>     FD_ZERO(&amp;fdset);
     snmp_select_info(&amp;fds, &amp;fdset, &amp;timeout, &amp;block);
     fds = select(fds, &amp;fdset, NULL, NULL, block&#160;? NULL&#160;: &amp;timeout);
</pre>
<p>snmp_read will read all sockets with pending data, and process them 
</p>
<pre>     if (fds) snmp_read(&amp;fdset);
     else snmp_timeout();
   }
</pre>
<p>Now active_hosts == 0, and all data have been returned. Close all sessions and finish up. 
</p>
<pre>   /* cleanup */
   for (hp = hosts, hs = sessions; hp-&gt;name; hs++, hp++) {
     if (hs-&gt;sess) snmp_close(hs-&gt;sess);
   }
 }
</pre>
<p>The main program just demonstrates the two ways to do the job: 
</p>
<pre> int main (int argc, char **argv)
 {
   initialize();
 
   printf("---------- synchronous -----------\n");
   synchronous();
 
   printf("---------- asynchronous -----------\n");
   asynchronous();
 
   return 0;
 }
</pre>
<p>Thats it. Lets now see it in action: 
</p>
<pre>&#160;% <b>./asyncapp</b>
 ---------- synchronous -----------
 23:08:49.429595 test1: Timeout
 23:08:49.609789 test2: system.sysDescr.0 = SunOS test2 5.6 Generic_105181-16 sun4u
 23:08:49.759717 test2: interfaces.ifNumber.1 = No Such Instance currently exists
 23:08:49.899715 test2: interfaces.ifNumber.0 = No Such Object available on this agent
 23:08:50.059725 test3: system.sysDescr.0 = Linux test3 2.2.5-22 #1 Wed Jun 2 09:17:03 EDT 1999 i686
 23:08:50.199715 test3: interfaces.ifNumber.1 = No Such Object available on this agent
 23:08:50.339712 test3: interfaces.ifNumber.0 = No Such Object available on this agent
 23:08:56.429595 test4: Timeout
 ---------- asynchronous -----------
 23:08:50.519702 test2: system.sysDescr.0 = SunOS test2 5.6 Generic_105181-16 sun4u
 23:08:50.569680 test3: system.sysDescr.0 = Linux test3 2.2.5-22 #1 Wed Jun 2 09:17:03 EDT 1999 i686
 23:08:50.669682 test2: interfaces.ifNumber.1 = No Such Instance currently exists
 23:08:50.699669 test3: interfaces.ifNumber.1 = No Such Object available on this agent
 23:08:50.809714 test2: interfaces.ifNumber.0 = No Such Object available on this agent
 23:08:50.879675 test3: interfaces.ifNumber.0 = No Such Object available on this agent
 23:08:56.429590 test1: Timeout
 23:08:56.430095 test4: Timeout
&#160;%
</pre>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Tutorial_Sections"><span class="tocnumber">1</span> <span class="toctext">Tutorial Sections</span></a>
<ul>
<li class="toclevel-2"><a href="#About_the_SNMP_Protocol"><span class="tocnumber">1.1</span> <span class="toctext">About the SNMP Protocol</span></a></li>
<li class="toclevel-2"><a href="#Net-SNMP_Command_Line_Applications"><span class="tocnumber">1.2</span> <span class="toctext">Net-SNMP Command Line Applications</span></a></li>
<li class="toclevel-2"><a href="#Application_Configuration"><span class="tocnumber">1.3</span> <span class="toctext">Application Configuration</span></a></li>
<li class="toclevel-2"><a href="#Net-SNMP_Daemons"><span class="tocnumber">1.4</span> <span class="toctext">Net-SNMP Daemons</span></a></li>
<li class="toclevel-2"><a href="#Coding_Tutorials"><span class="tocnumber">1.5</span> <span class="toctext">Coding Tutorials</span></a></li>
<li class="toclevel-2"><a href="#Debugging_SNMP_Applications_and_Agents"><span class="tocnumber">1.6</span> <span class="toctext">Debugging SNMP Applications and Agents</span></a></li>
<li class="toclevel-2"><a href="#Operating_System_Specific_Tutorials"><span class="tocnumber">1.7</span> <span class="toctext">Operating System Specific Tutorials</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Tutorial_Sections">Tutorial Sections</span></h2>
<h3><span class="mw-headline" id="About_the_SNMP_Protocol">About the SNMP Protocol</span></h3>
<p>These tutorial links talk about SNMP generically and how the protocol itself works.  They are good introductory reading material and the concepts are important to understand before diving into the later tutorials about Net-SNMP itself.
</p>
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:SNMP" title="TUT:SNMP"> How SNMP Works</a>: About the protocol itself (GETs, GETNEXTs, etc)</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:MIBs" title="TUT:MIBs"> What data is in SNMP</a>: All about SNMP <i>Management Information Bases</i> (MIBs)</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Security" title="TUT:Security"> Securing SNMP</a>: How to use the SNMP protocol securely</li></ul>
<h3><span class="mw-headline" id="Net-SNMP_Command_Line_Applications">Net-SNMP Command Line Applications</span></h3>
<p>These tutorial pages discuss the command line tools provided in the Net-SNMP suite of tools.  Nearly all the example commands in these tutorials works if you try it yourself, as they're all examples that talk to our online Net-SNMP test agent.  Given them a shot!
</p>
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmptranslate" title="TUT:snmptranslate"> snmptranslate</a>: learning about the MIB tree.</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmpget" title="TUT:snmpget"> snmpget</a>: retrieving data from a host.</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmpgetnext" title="TUT:snmpgetnext"> snmpgetnext</a>: retrieving unknown indexed data.</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmpwalk" title="TUT:snmpwalk"> snmpwalk</a>: retrieving lots of data at once!</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmptable" title="TUT:snmptable"> snmptable</a>: displaying a table.</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmpset" title="TUT:snmpset"> snmpset</a>: peforming write operations.</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmpbulkget" title="TUT:snmpbulkget"> snmpbulkget</a>: communicates with a network entity using SNMP GETBULK request</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmpbulkwalk" title="TUT:snmpbulkwalk"> snmpbulkwalk</a>: retrieve a sub-tree of management values using SNMP GETBULK requests.</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmptrap" title="TUT:snmptrap"> snmptrap</a>: Sending and receiving traps, and acting upon them. 
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmptrap_SNMPv3" title="TUT:snmptrap SNMPv3"> Traps/informs with SNMPv3/USM</a>: Sending and receiving SNMPv3/USM TRAPs and INFORMs</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:agentxtrap" title="TUT:agentxtrap"> Sending Traps/Informs via AgentX</a>: Sending notifications from the command line through snmpd </li></ul></li>
<li> Common command line options: 
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Using_and_loading_MIBS" title="TUT:Using and loading MIBS"> Using and loading MIBS</a></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:SNMPv3_Options" title="TUT:SNMPv3 Options"> SNMPv3/USM Options</a></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Using_TLS" title="TUT:Using TLS"> Using SNMPv3 over TLS and DTLS</a></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Customized_Output_Formats" title="TUT:Customized Output Formats"> Customized Output Formats</a></li></ul></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:mib2c_config_files" title="TUT:mib2c config files"> Writing mib2c config files </a></li></ul>
<h3><span class="mw-headline" id="Application_Configuration">Application Configuration</span></h3>
<p>All of our applications support configuration to allow you to customize how they behave.
</p>
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Configuring_Net-SNMP_Applications" title="TUT:Configuring Net-SNMP Applications"> Configuration files for Net-SNMP applications</a></li></ul>
<h3><span class="mw-headline" id="Net-SNMP_Daemons">Net-SNMP Daemons</span></h3>
<p>Net-SNMP comes with two long-running daemons: a SNMP agent (<i><a href="http://www.net-snmp.org/wiki/index.php/Snmpd" title="Snmpd">snmpd</a></i>) for responding to management requests and a notification receiver (<i><a href="http://www.net-snmp.org/wiki/index.php/Snmptrapd" title="Snmptrapd">snmptrapd</a></i>) for receiving SNMP notifications.
</p>
<ul><li> SNMP Agent (snmpd) Configuration
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmpd_configuration" title="TUT:snmpd configuration">Configuration Basics</a></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/Vacm" title="Vacm"> Access Control (VACM)</a></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/Snmpconf" title="Snmpconf">snmpconf</a></li></ul></li>
<li> SNMP Notification Receiver (snmptrapd)
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Configuring_snmptrapd" title="TUT:Configuring snmptrapd">Configuring snmptrapd</a></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Configuring_snmptrapd_to_receive_SNMPv3_notifications" title="TUT:Configuring snmptrapd to receive SNMPv3 notifications">Configuring SNMPv3 notifications</a></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Configuring_snmptrapd_to_parse_MIBS_from_3rd_party_Vendors" title="TUT:Configuring snmptrapd to parse MIBS from 3rd party Vendors">Configuring snmptrapd to understand vendor-specific MIBS (Cisco)</a></li></ul></li>
<li> Agent Monitoring
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:DisMan_Monitoring" title="TUT:DisMan Monitoring">DisMan Monitoring</a></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:MRTG" title="TUT:MRTG">Monitoring with MRTG</a></li></ul></li></ul>
<h3><span class="mw-headline" id="Coding_Tutorials">Coding Tutorials</span></h3>
<p>Net-SNMP comes with a highly flexible and extensible API.  The API allows you to create your own commands, add extensions to the agent to support your own <a href="http://www.net-snmp.org/wiki/index.php/MIB" title="MIB">MIBs</a> and perform specialized processing of notifications.
</p>
<ul><li> Client / Manager Coding Tutorials
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Simple_Application" title="TUT:Simple Application">Writing a simple application</a></li>
<li> <strong class="selflink">Writing a simple asynchronous application</strong></li></ul></li>
<li> Agent Coding Tutorials
<ul><li> The <a href="http://www.net-snmp.org/wiki/index.php/Agent_Architecture" title="Agent Architecture">Agent Architecture</a> page might be worth reading before or after the agent coding tutorials, and describes how the <a href="http://www.net-snmp.org/wiki/index.php/Agent_Helpers" title="Agent Helpers">Agent Helpers</a> work under the hood.</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Writing_a_MIB_Module" title="TUT:Writing a MIB Module"> Writing a mib module</a> to serve information described by an SNMP MIB, and how to compile it into the net-snmp snmpd agent.</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Writing_a_Dynamically_Loadable_Object" title="TUT:Writing a Dynamically Loadable Object"> Writing a Dynamically Loadable Object</a> that can be loaded into the SNMP agent.</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Writing_a_Subagent" title="TUT:Writing a Subagent"> Writing a Subagent</a> that can be run to attach to the snmpd master agent.</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/Tut:Extending_snmpd_using_perl" title="Tut:Extending snmpd using perl"> Writing a perl plugin to extend the agent</a> using the NetSNMP::agent module.</li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/Tut:Extending_snmpd_using_shell_scripts" title="Tut:Extending snmpd using shell scripts"> Writing shell scripts to extend the agent</a></li>
<li> Using mib2c to help write an agent code template for you
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:mib2c_General_Overview" title="TUT:mib2c General Overview"> General mib2c Overview</a></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:mib2c-update" title="TUT:mib2c-update"> Using the mib2c-update script to <i>recode</i> your code</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.net-snmp.org/tutorial/tutorial-5/toolkit/mfd/">mib2c.mfd.conf tutorial</a></li></ul></li></ul></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/TUT:Header_files" title="TUT:Header files">Header files and autoconf</a></li></ul>
<h3><span class="mw-headline" id="Debugging_SNMP_Applications_and_Agents">Debugging SNMP Applications and Agents</span></h3>
<p>All our tools and applications have extensive debugging output.  These tutorials talk about how the debugging system works and how you can add your own debugging statements to you code:
</p>
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/Debugging_output" title="Debugging output"> Debugging output printed using the -D command line option</a>
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/DEBUGMSG" title="DEBUGMSG"> Putting DEBUGMSG tokens in your code</a></li></ul></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php?title=Debugging_packet_traces&amp;action=edit&amp;redlink=1" class="new" title="Debugging packet traces (page does not exist)"> Using -Ddump to display packet breakdowns</a></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/Debugger" title="Debugger">Debugging using GDB</a></li></ul>
<h3><span class="mw-headline" id="Operating_System_Specific_Tutorials">Operating System Specific Tutorials</span></h3>
<ul><li> Building With Visual Studio 2005 Express
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/Using_the_command_line_and_nmake" title="Using the command line and nmake">Using the command line and nmake</a></li></ul></li>
<li> Building Net-SNMP 64-bit with Visual C++ 2010 Express
<ul><li> <a href="http://www.net-snmp.org/wiki/index.php/Using_the_command_line_and_nmake_(VC++_2010_Express)" title="Using the command line and nmake (VC++ 2010 Express)">Using the command line and nmake (VC++ 2010 Express)</a></li></ul></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/Net-Snmp_on_Ubuntu" title="Net-Snmp on Ubuntu">Net-Snmp on Ubuntu</a></li>
<li> <a href="http://www.net-snmp.org/wiki/index.php/Net-SNMP_and_lm-sensors_on_Ubuntu_10.04" title="Net-SNMP and lm-sensors on Ubuntu 10.04">Net-SNMP and lm-sensors on Ubuntu 10.04</a></li>
<li> Net-SNMP for windows:
<ul><li> How to install: <a rel="nofollow" class="external autonumber" href="http://www.netadmintools.com/art487.html">[1]</a></li>
<li> How to configure: <a rel="nofollow" class="external autonumber" href="http://www.netadmintools.com/art488.html">[2]</a></li></ul></li></ul>

<!-- 
NewPP limit report
Cached time: 20240514175413
Cache expiry: 0
Dynamic content: true
CPU time usage: 0.015 seconds
Real time usage: 0.022 seconds
Preprocessor visited node count: 15/1000000
Preprocessor generated node count: 46/1000000
Post‐expand include size: 6426/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    9.433      1 - -total
 56.23%    5.304      1 - Template:TUT:File-Table-Top-and-basics
 40.57%    3.827      1 - Template:TUT:LIST
 26.60%    2.509      1 - Template:TUT:File-Table-Top
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://www.net-snmp.org/wiki/index.php?title=TUT:Simple_Async_Application&amp;oldid=5850">http://www.net-snmp.org/wiki/index.php?title=TUT:Simple_Async_Application&amp;oldid=5850</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="http://www.net-snmp.org/wiki/index.php/TUT:Simple_Async_Application" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk"><a href="http://www.net-snmp.org/wiki/index.php/Talk:TUT:Simple_Async_Application" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="http://www.net-snmp.org/wiki/index.php?title=TUT:Simple_Async_Application&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="http://www.net-snmp.org/wiki/index.php?title=TUT:Simple_Async_Application&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="http://www.net-snmp.org/wiki/index.php?title=Special:UserLogin&amp;returnto=TUT%3ASimple+Async+Application&amp;returntoquery=oldid%3D5850&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="http://www.net-snmp.org/wiki/index.php?title=Special:UserLogin&amp;returnto=TUT%3ASimple+Async+Application&amp;returntoquery=oldid%3D5850" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="http://www.net-snmp.org/wiki/index.php/Main_Page" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-project" role="navigation">
		<h3>project</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Web-Site"><a href="http://www.net-snmp.org/" rel="nofollow">Web Site</a></li>
											<li id="n-Wiki"><a href="http://www.net-snmp.org/wiki/index.php/Main_Page">Wiki</a></li>
											<li id="n-Download"><a href="http://www.net-snmp.org/download.html" rel="nofollow">download</a></li>
											<li id="n-Mailing-Lists"><a href="http://www.net-snmp.org/support/mailinglists.html" rel="nofollow">Mailing Lists</a></li>
											<li id="n-Bug-Reports"><a href="http://www.net-snmp.org/support/bugreports.html" rel="nofollow">Bug Reports</a></li>
											<li id="n-Patches"><a href="http://www.net-snmp.org/support/patches.html" rel="nofollow">Patches</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-documentation" role="navigation">
		<h3>documentation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Tutorials"><a href="http://www.net-snmp.org/wiki/index.php/Tutorials">Tutorials</a></li>
											<li id="n-FAQ"><a href="http://www.net-snmp.org/wiki/index.php/FAQ">FAQ</a></li>
											<li id="n-Good-Answers"><a href="http://www.net-snmp.org/wiki/index.php/Category:GoodAnswer">Good Answers</a></li>
											<li id="n-Manual-Pages"><a href="http://www.net-snmp.org/man" rel="nofollow">Manual Pages</a></li>
											<li id="n-Tools"><a href="http://www.net-snmp.org/wiki/index.php/Category:Tools">Tools</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-wiki" role="navigation">
		<h3>wiki</h3>
		<div class='pBody'>
							<ul>
											<li id="n-recentchanges"><a href="http://www.net-snmp.org/wiki/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="http://www.net-snmp.org/wiki/index.php/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://www.net-snmp.org/wiki/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Net-SNMP Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="http://www.net-snmp.org/wiki/index.php/Special:WhatLinksHere/TUT:Simple_Async_Application" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="http://www.net-snmp.org/wiki/index.php/Special:RecentChangesLinked/TUT:Simple_Async_Application" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="http://www.net-snmp.org/wiki/index.php/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="http://www.net-snmp.org/wiki/index.php?title=TUT:Simple_Async_Application&amp;oldid=5850&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="http://www.net-snmp.org/wiki/index.php?title=TUT:Simple_Async_Application&amp;oldid=5850" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="http://www.net-snmp.org/wiki/index.php?title=TUT:Simple_Async_Application&amp;action=info" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="http://www.net-snmp.org/wiki/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/wiki/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /wiki/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 11 November 2014, at 14:33.</li>
									<li id="privacy"><a href="http://www.net-snmp.org/wiki/index.php/Net-SNMP_Wiki:Privacy_policy" title="Net-SNMP Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="http://www.net-snmp.org/wiki/index.php/Net-SNMP_Wiki:About" title="Net-SNMP Wiki:About">About Net-SNMP Wiki</a></li>
									<li id="disclaimer"><a href="http://www.net-snmp.org/wiki/index.php/Net-SNMP_Wiki:General_disclaimer" title="Net-SNMP Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"]);
} );</script><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":171});
} );</script></body>
<!-- Mirrored from www.net-snmp.org/wiki/index.php?title=TUT:Simple_Async_Application&oldid=5850 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 May 2024 18:23:58 GMT -->
</html>
