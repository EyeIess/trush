

<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from www.net-snmp.org/wiki/index.php?title=TUT:snmpset&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 May 2024 18:21:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>View source for TUT:snmpset - Net-SNMP Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"TUT:snmpset","wgTitle":"TUT:snmpset","wgCurRevisionId":5113,"wgRevisionId":0,"wgArticleId":1735,"wgIsArticle":!1,"wgIsRedirect":!1,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!0,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"TUT:snmpset","wgRelevantArticleId":1735,"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits"]);
} );</script>
<link rel="stylesheet" href="load34a1.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook" />
<!--[if IE 6]><link rel="stylesheet" href="/wiki/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="load3a95.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.26.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://www.net-snmp.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://www.net-snmp.org/wiki/opensearch_desc.php" title="Net-SNMP Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://www.net-snmp.org/wiki/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Net-SNMP Wiki Atom feed" href="http://www.net-snmp.org/wiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-TUT_snmpset skin-monobook action-edit">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">View source for TUT:snmpset</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Net-SNMP Wiki</div>
					<div id="contentSub">‚Üê <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmpset" title="TUT:snmpset">TUT:snmpset</a></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="http://www.net-snmp.org/wiki/index.php?title=Net-SNMP_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Net-SNMP Wiki:Users (page does not exist)">Users</a>.
</p>
</div>
<hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" lang="en" dir="ltr" name="wpTextbox1">The [[SET]] request is used to modify information on the target agent - updating
the configuration of that agent, or controlling the behaviour of the remote system.  This protocol operation can be sent via the [[snmpset]] command line tool.

== Basic Example ==

The syntax of the &lt;code>snmpset&lt;/code> command is similar to that of the &lt;code>snmpget&lt;/code>
command, and most of the [[TUT:snmpget|snmpget tutorial]] applies here too.
The main difference is in specifying the information to work with.
Instead of a single OID, the &lt;code>snmpset&lt;/code> command requires the
OID to update, the data type of this object, and the new value to apply:

    snmpset -v 1 -c demopublic test.net-snmp.org '''ucdDemoPublicString.0 s "hi there!"'''

The effect of this command can usually be seen by retrieving the value of an object,
both before and after the SET request:

    $ snmpget -v 1 -c demopublic test.net-snmp.org ucdDemoPublicString.0
    UCD-DEMO-MIB::ucdDemoPublicString.0 = "hi there!"
    $ snmpset -v 1 -c demopublic test.net-snmp.org '''ucdDemoPublicString.0 s "Hello, world!"'''
    UCD-DEMO-MIB::ucdDemoPublicString.0 = "Hello, world!"
    $ snmpget -v 1 -c demopublic test.net-snmp.org ucdDemoPublicString.0
    UCD-DEMO-MIB::ucdDemoPublicString.0 = "Hello, world!"

Note that the values returned following the SET request will always be the
same as those provided.   This is ''normally'' the same as that returned by
a subsequent GET request (as shown above), but not necessarily:

    $ snmpget test.net-snmp.org  snmpSetSerialNo.0
    SNMPv2-MIB::snmpSetSerialNo.0 = INTEGER: 123456
    $ snmpset test.net-snmp.org  snmpSetSerialNo.0 i 123456
    SNMPv2-MIB::snmpSetSerialNo.0 = INTEGER: 123456
    $ snmpget test.net-snmp.org  snmpSetSerialNo.0
    SNMPv2-MIB::snmpSetSerialNo.0 = INTEGER: '''123457'''

== Data Types ==

The list of valid datatypes can be found at the end of the snmpset help output: 

    $ snmpset -h |&amp; tail -4
    type - one of i, u, t, a, o, s, x, d, n
      i: INTEGER, u: unsigned INTEGER, t: TIMETICKS, a: IPADDRESS
      o: OBJID, s: STRING, x: HEX STRING, d: DECIMAL STRING
      U: unsigned int64, I: signed int64, F: float, D: double

Note that the last four types are only valid when talking to the
Net-SNMP agent.   They are not part of the official SNMP specification.

Assuming that the MIB file is loaded, then it's also possible to
specify the type as "=", and the &lt;code>snmpset&lt;/code> command will
supply the appropriate type from the MIB file:

    $ snmpset test.net-snmp.org ucdDemoPublicString.0 '''=''' "Hello clouds"
    UCD-DEMO-MIB::ucdDemoPublicString.0 = "Hello clouds"

This doesn't work if the MIB file isn't loaded, of course - but then
referring to the MIB object by name wouldn't either!


== Multiple Values ==

As with the &lt;code>snmpget&lt;/code> command, it also is possible to SET several
new values in the one request.  Simply specify the list of (OID,type,value)
triples on the command line:

    $ snmpset test.net-snmp.org ucdDemoPublicString.0 s "Hello sky"  snmpSetSerialNo.0 i 123457
    UCD-DEMO-MIB::ucdDemoPublicString.0 = "Hello sky"
    SNMPv2-MIB::snmpSetSerialNo.0 = INTEGER: 123457

If one of these assigments is invalid, then the request will be rejected without applying
''any'' of the new values - regardless of the order they appear in the list.
&lt;!-- Do we want an example of this? -->
This is quite useful for the administrator wanting to manage their systems,
but can be something of a headache for the poor schmuck landed with the
task of implementing the SET handling within the agent.


== Failed Requests ==

If the MIB file has been loaded, and the supplied value is invalid according to
the MIB definitions (e.g. the wrong type, or outside the valid range for that
object), then &lt;command>snmpset&lt;/command> will display a failure message
without ever sending the request to the target agent:

    $ snmpset test.net-snmp.org  snmpSetSerialNo.0 '''s "as any fule kno"'''
    snmpSetSerialNo.0: '''Bad variable type'''
        (Type of attribute is INTEGER, not OCTET STRING)

If the MIB file is not available, or the value matches the syntax from the
MIB definition, then the request will be sent to the target agent which
may then reject the request:

    $ snmpset test.net-snmp.org  snmpSetSerialNo.0 i '''9999'''
    Error in packet.
    Reason: ('''badValue''') The value given has the wrong type or length
    Failed object: SNMPv2-MIB::snmpSetSerialNo.0

The same effect can be seen by suppressing the local validation:

    $ snmpset test.net-snmp.org '''-Ir''' snmpSetSerialNo.0 s "How To Be Topp"
    Error in packet.
    Reason: ('''badValue''') The value given has the wrong type or length
    Failed object: SNMPv2-MIB::snmpSetSerialNo.0

SNMPv1 reports such problems using a single error report (&lt;code>badValue&lt;/code>)
as shown above.   SNMPv2c is a little more informative:

    $ snmpset -v 2c test.net-snmp.org -Ir snmpSetSerialNo.0 s "uterly wet"
    Error in packet.
    Reason: ('''wrongType''') The set datatype does not match the data type the agent expects
    Failed object: SNMPv2-MIB::snmpSetSerialNo.0
    ''&lt;tasks>[ ] Actually returns &lt;code>wrongValue&lt;/code>&lt;/tasks>''
    $ snmpset -v 2c test.net-snmp.org     snmpSetSerialNo.0 i 9999
    Error in packet.
    Reason: ('''wrongValue''') The set value is illegal or unsupported in some way
    Failed object: SNMPv2-MIB::snmpSetSerialNo.0


Similarly, if you don't have permission to write to an object, the error reported
will be different depending on the version of SNMP used:

    $ snmpset -v 1  -c rocommunity test.net-snmp.org  snmpSetSerialNo.0 i 123457
    Error in packet.
    Reason: ('''noSuchName''') There is no such variable name in this MIB.
    Failed object: SNMPv2-MIB::snmpSetSerialNo.0
    $ snmpset -v 2c -c rocommunity test.net-snmp.org  snmpSetSerialNo.0 i 123457
    Error in packet.
    Reason: '''noAccess'''
    Failed object: SNMPv2-MIB::snmpSetSerialNo.0
    ''&lt;tasks>[ ] Should this return &lt;code>notWritable&lt;/code>?&lt;/tasks>''


SNMPv3 uses the same (improved) error codes as SNMPv2c,
as well as providing much better security - which is potentially
quite important when it comes to SET requests!

&lt;hr>

{{TUT:LIST}}
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Template used on this page:
</p></div><ul>
<li><a href="http://www.net-snmp.org/wiki/index.php/Template:TUT:LIST" title="Template:TUT:LIST">Template:TUT:LIST</a> (<a href="http://www.net-snmp.org/wiki/index.php?title=Template:TUT:LIST&amp;action=edit" title="Template:TUT:LIST">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="http://www.net-snmp.org/wiki/index.php/TUT:snmpset" title="TUT:snmpset">TUT:snmpset</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://www.net-snmp.org/wiki/index.php/TUT:snmpset">http://www.net-snmp.org/wiki/index.php/TUT:snmpset</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="http://www.net-snmp.org/wiki/index.php/TUT:snmpset" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="http://www.net-snmp.org/wiki/index.php?title=Talk:TUT:snmpset&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource" class="selected"><a href="http://www.net-snmp.org/wiki/index.php?title=TUT:snmpset&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="http://www.net-snmp.org/wiki/index.php?title=TUT:snmpset&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="http://www.net-snmp.org/wiki/index.php?title=Special:UserLogin&amp;returnto=TUT%3Asnmpset&amp;returntoquery=action%3Dedit&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="http://www.net-snmp.org/wiki/index.php?title=Special:UserLogin&amp;returnto=TUT%3Asnmpset&amp;returntoquery=action%3Dedit" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="http://www.net-snmp.org/wiki/index.php/Main_Page" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-project" role="navigation">
		<h3>project</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Web-Site"><a href="http://www.net-snmp.org/" rel="nofollow">Web Site</a></li>
											<li id="n-Wiki"><a href="http://www.net-snmp.org/wiki/index.php/Main_Page">Wiki</a></li>
											<li id="n-Download"><a href="http://www.net-snmp.org/download.html" rel="nofollow">download</a></li>
											<li id="n-Mailing-Lists"><a href="http://www.net-snmp.org/support/mailinglists.html" rel="nofollow">Mailing Lists</a></li>
											<li id="n-Bug-Reports"><a href="http://www.net-snmp.org/support/bugreports.html" rel="nofollow">Bug Reports</a></li>
											<li id="n-Patches"><a href="http://www.net-snmp.org/support/patches.html" rel="nofollow">Patches</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-documentation" role="navigation">
		<h3>documentation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Tutorials"><a href="http://www.net-snmp.org/wiki/index.php/Tutorials">Tutorials</a></li>
											<li id="n-FAQ"><a href="http://www.net-snmp.org/wiki/index.php/FAQ">FAQ</a></li>
											<li id="n-Good-Answers"><a href="http://www.net-snmp.org/wiki/index.php/Category:GoodAnswer">Good Answers</a></li>
											<li id="n-Manual-Pages"><a href="http://www.net-snmp.org/man" rel="nofollow">Manual Pages</a></li>
											<li id="n-Tools"><a href="http://www.net-snmp.org/wiki/index.php/Category:Tools">Tools</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-wiki" role="navigation">
		<h3>wiki</h3>
		<div class='pBody'>
							<ul>
											<li id="n-recentchanges"><a href="http://www.net-snmp.org/wiki/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="http://www.net-snmp.org/wiki/index.php/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://www.net-snmp.org/wiki/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Net-SNMP Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="http://www.net-snmp.org/wiki/index.php/Special:WhatLinksHere/TUT:snmpset" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="http://www.net-snmp.org/wiki/index.php/Special:RecentChangesLinked/TUT:snmpset" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="http://www.net-snmp.org/wiki/index.php/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-info"><a href="http://www.net-snmp.org/wiki/index.php?title=TUT:snmpset&amp;action=info" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="http://www.net-snmp.org/wiki/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/wiki/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /wiki/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="privacy"><a href="http://www.net-snmp.org/wiki/index.php/Net-SNMP_Wiki:Privacy_policy" title="Net-SNMP Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="http://www.net-snmp.org/wiki/index.php/Net-SNMP_Wiki:About" title="Net-SNMP Wiki:About">About Net-SNMP Wiki</a></li>
									<li id="disclaimer"><a href="http://www.net-snmp.org/wiki/index.php/Net-SNMP_Wiki:General_disclaimer" title="Net-SNMP Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["mediawiki.action.edit.collapsibleFooter","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"]);
} );</script><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":877});
} );</script></body>
<!-- Mirrored from www.net-snmp.org/wiki/index.php?title=TUT:snmpset&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 May 2024 18:21:52 GMT -->
</html>
