

<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from www.net-snmp.org/wiki/index.php?title=Release_Instructions&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 May 2024 19:13:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>View source for Release Instructions - Net-SNMP Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"Release_Instructions","wgTitle":"Release Instructions","wgCurRevisionId":5764,"wgRevisionId":0,"wgArticleId":2073,"wgIsArticle":!1,"wgIsRedirect":!1,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!0,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Release_Instructions","wgRelevantArticleId":2073,"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits"]);
} );</script>
<link rel="stylesheet" href="load34a1.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook" />
<!--[if IE 6]><link rel="stylesheet" href="/wiki/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="load3a95.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.26.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://www.net-snmp.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://www.net-snmp.org/wiki/opensearch_desc.php" title="Net-SNMP Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://www.net-snmp.org/wiki/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Net-SNMP Wiki Atom feed" href="http://www.net-snmp.org/wiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Release_Instructions skin-monobook action-edit">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">View source for Release Instructions</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Net-SNMP Wiki</div>
					<div id="contentSub">‚Üê <a href="http://www.net-snmp.org/wiki/index.php/Release_Instructions" title="Release Instructions">Release Instructions</a></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="http://www.net-snmp.org/wiki/index.php?title=Net-SNMP_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Net-SNMP Wiki:Users (page does not exist)">Users</a>.
</p>
</div>
<hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" lang="en" dir="ltr" name="wpTextbox1">This page documents varios aspects of creating releases and binary builds suitable for distribution of the project products:

= Releasing Source Code =

== MakeRelease ==
The current release procedures are reliant on the [http://github.com/hardaker/makerelease MakeRelease] system,
which is designed to automate (and document) as much of the process as possible.

MakeRelease can be installed as follows:

&lt;code>
  git clone http://github.com/hardaker/makerelease
  cd makerelease
  perl Makefile.PL
  make
  sudo make install
&lt;/code>

== Preliminary tasks ==

Before you start, check that the installed versions of &lt;code>autoconf&lt;/code>,
&lt;code>automake&lt;/code> and &lt;code>libtool&lt;/code> match the requirements for this branch
(as listed under [[Build_System#Tool_Versions]])

If the release is being built from a fresh source checkout,
then you should run &lt;code>configure&lt;/code> by hand
'''before''' running &lt;code>makerelease&lt;/code>.
This is because the release process relies on running various
&lt;code>make&lt;/code> commands before invoking &lt;code>configure&lt;/code> itself,
and expects there to be a suitable &lt;code>Makefile&lt;/code> already present.

== Building a Source Release ==

In order to start packaging up a new release,
change directory to the root of the code tree to be released
(which should be under revision control), and run the command:

&lt;code>
  makerelease -c dist/makerelease.xml
&lt;/code>

Most of the process is automated, and will be performed automatically,
with the script simply stopping at regular intervals to allow you to
verify what is being done.

There are two main steps where manual intervention is required:

* Step 4.4   - trim the file &lt;code>ChangeLog.reallyadd&lt;/code> to contain ''just'' those changes applied since the last run of &lt;code>makerelease&lt;/code>, and then to include these changes into the main &lt;code>ChangeLog&lt;/code> file.

* Step 4.8   - merge the contents of &lt;code>CHANGES.new2&lt;/code> into &lt;code>CHANGES&lt;/code> (and similarly for &lt;code>NEWS&lt;/code>)

Note that it's worth spending some time on this step.
Although most of the significant changes will hopefully have been tagged when they were commited,
and should be extracted automatically, the descriptions are sometimes truncated or unclear.
The release manager is also usually in a good position to judge the relative importance of
various changes, so should move descriptions between the &lt;code>CHANGES&lt;/code> and &lt;code>NEWS&lt;/code> files

== Notes ==

If a release is built from a 'clean' source tree, where configure has never been run (or not run since a "make distclean"),
then Step 2.3 ("make docs" and "make mancp"), and Step 3.1 ("make distclean") will fail.
These failures are not significant, and the process can be allowed to continue.

If a second release is made from the same source tree, make sure that you remove the previous 'net-snmp-{version}' directory first.   Otherwise this will confuse Step 4.2 ("make depend")

There are a few other steps where manual intervention is sometimes needed
(or may appear to be!)

* Step 1.2   - specify the version number for this release
* Step 2.1.1 - the library version numbers will normally only need to be tweaked for the first (.pre1) version of a given release cycle
* Step 2.3   - extracting the in-line documentation will typically generate a '''large''' number of warnings.  These can safely be ignored
* Step 2.5   - there may also be a number of "new" function man pages, which are not under revision control  These can also be ignored - there is no need to run &lt;code>git add&lt;/code> on them.&lt;br>(In fact, the automatic generation of these man pages should probably be disabled altogether)
* Step 3.4   - the &lt;code>make checks&lt;/code> test invariably fails&lt;br>The complaint about non-portable constructs in the top-level &lt;code>Makefile.in&lt;/code> file can be ignored - other errors should be taken on their merits&lt;br>It will usually be necessary to explicitly '''c'''ontinue at this point
* Step 4.1   - the &lt;code>make depend&lt;/code> step will generate a large number of warnings - these can safely be ignored

* Steps 5.8 and 5.10  - If you don't have the Net-SNMP Administration secret key (or can't remember the password!), you'll have to skip these signing steps.   MD5 checksums (or full package signatures) can be generated and uploaded at a later date

== Publishing and Advertising ==

From Step 6 onwards, the process relies more on manual intervention, with relatively little being automated.
The &lt;code>makerelease&lt;/code> script will guide you through what is required, but won't actually perform most of these actions.

* Step 6.1   - note that the example command uses Wes' SourceForge account details.   Amend &lt;code>hardaker&lt;/code> to be your SF login name.

* Step 6.2   - updating the Download web page needs to be done via the git repository

* Steps 6.3, 8.1, 8.4   -  these attempt to open the relevant web pages for editing, but this may well fail - update the relevant pages manually (or ignore them), and '''c'''ontinue

= Producing Binaries =

== Linux RPMs ==

There are two elements to generating a set of RPM binaries - deciding
on the structure of the RPMs to create (which is controlled by the contents
of the &lt;code>net-snmp.spec&lt;/code> file),  and actually generating these RPMs.

=== Traditional Net-SNMP RPM structure ===

Historically, the Net-SNMP project has tended to distribute just three binary RPMs:
* net-snmp  (the main RPM, containing both client-utilities and the agent, together with the supporting framework)
* net-snmp-devel (header files and archive libraries, needed for developing new SNMP applications)
* net-snmp-perlmods (the perl modules)

This structure uses the RPM spec file that is included as part of the source code tree,
in &lt;code>dist/net-snmp.spec&lt;/code>.

The spec file also attempts to include suitable "provide" definitions which should
allow these RPMs to replace the vendor-supplied Net-SNMP RPMs which come with
SuSE-based and RedHat-based systems (including RHEL, Fedora and CentOS distributions).

=== RedHat/Fedora RPM structure ===

RedHat-based distributions tend to use a larger number of individual RPMs,
allowing system administrators to select which elements to install
(e.g. SNMP clients without the SNMP agent, or vice versa).

* net-snmp  (the SNMP agent)
* net-snmp-utils  (the command-line client applications)
* net-snmp-libs  (shared libraries and other supporting framework)
* net-snmp-devel (header files and libraries, needed for developing new SNMP applications)
* net-snmp-perl (the perl modules)
* net-snmp-python (the python modules)
* net-snmp-gui (tkmib)

This uses the RPM spec file from the Fedora repository,
which can be retrieved (together with accompanying files)
using the command&lt;br>&lt;code>git clone git://pkgs.fedoraproject.org/net-snmp&lt;/code>

Note that this spec file includes RedHat-supplied patches to the code,
which may not necessarily be relevant to the version you are
working with.  You may need to comment out some of the &lt;code>PatchN&lt;/code>
definitions, and the corresponding &lt;code>%patchN&lt;/code> setup directives.
It may also be necessary to amend the configure options used, and other
aspects of the spec file, depending on the versions involved.

=== Building RPMs using rpmbuild ===

The traditional approach for generating RPMs uses the command &lt;code>rpmbuild&lt;/code>
(part of the RPM &lt;code>rpm-build&lt;/code>)

The procedure is as follows:
* Create &lt;code>$HOME/rpmbuild/SPECS&lt;/code> and copy the spec file there
* Create &lt;code>$HOME/rpmbuild/SOURCES&lt;/code> and copy the tarball there
* If there are any patch files mentioned in the spec file, copy these to &lt;code>$HOME/rpmbuild/SOURCES&lt;/code> as well
* Ensure &lt;code>Version&lt;/code> in the spec file matches the version of the tarball
* Append a suitable vendor identifier to the &lt;code>Release&lt;/code> in the spec file
* Run the command &lt;code>rpmbuild -ba $HOME/rpmbuild/SPECS/net-snmp.spec&lt;/code>

This produces the appropriate binary RPM files (under &lt;code>$HOME/rpmbuild/RPMs&lt;/code>)
together with a source RPM file (under &lt;code>$HOME/rpmbuild/SRPMs&lt;/code>)

=== Building Fedora RPMs ===

Fedora-based distributions can also use the command &lt;code>fedpkg&lt;/code>
(part of the RPM &lt;code>fedpkg&lt;/code>)

* copy the spec file, source tarball and any patch files into a suitable working directory
* Ensure &lt;code>Version&lt;/code> in the file &lt;code>net-snmp/net-snmp.spec&lt;/code> matches the version of the tarball
* Run the command &lt;code>fedpkg local&lt;/code>

(This procedure may also require the RPM &lt;code>chrpath&lt;/code> to be installed)

== Linux DEBs ==

== Solaris ==

* SYSV packages
** see dist/net-snmp-solaris-build
* tar balls
** to be unpacked beneath /usr/local

== Windows ==
</textarea><div class="templatesUsed"></div><p id="mw-returnto">Return to <a href="http://www.net-snmp.org/wiki/index.php/Release_Instructions" title="Release Instructions">Release Instructions</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://www.net-snmp.org/wiki/index.php/Release_Instructions">http://www.net-snmp.org/wiki/index.php/Release_Instructions</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="http://www.net-snmp.org/wiki/index.php/Release_Instructions" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="http://www.net-snmp.org/wiki/index.php?title=Talk:Release_Instructions&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource" class="selected"><a href="http://www.net-snmp.org/wiki/index.php?title=Release_Instructions&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="http://www.net-snmp.org/wiki/index.php?title=Release_Instructions&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="http://www.net-snmp.org/wiki/index.php?title=Special:UserLogin&amp;returnto=Release+Instructions&amp;returntoquery=action%3Dedit&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="http://www.net-snmp.org/wiki/index.php?title=Special:UserLogin&amp;returnto=Release+Instructions&amp;returntoquery=action%3Dedit" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="http://www.net-snmp.org/wiki/index.php/Main_Page" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-project" role="navigation">
		<h3>project</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Web-Site"><a href="http://www.net-snmp.org/" rel="nofollow">Web Site</a></li>
											<li id="n-Wiki"><a href="http://www.net-snmp.org/wiki/index.php/Main_Page">Wiki</a></li>
											<li id="n-Download"><a href="http://www.net-snmp.org/download.html" rel="nofollow">download</a></li>
											<li id="n-Mailing-Lists"><a href="http://www.net-snmp.org/support/mailinglists.html" rel="nofollow">Mailing Lists</a></li>
											<li id="n-Bug-Reports"><a href="http://www.net-snmp.org/support/bugreports.html" rel="nofollow">Bug Reports</a></li>
											<li id="n-Patches"><a href="http://www.net-snmp.org/support/patches.html" rel="nofollow">Patches</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-documentation" role="navigation">
		<h3>documentation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Tutorials"><a href="http://www.net-snmp.org/wiki/index.php/Tutorials">Tutorials</a></li>
											<li id="n-FAQ"><a href="http://www.net-snmp.org/wiki/index.php/FAQ">FAQ</a></li>
											<li id="n-Good-Answers"><a href="http://www.net-snmp.org/wiki/index.php/Category:GoodAnswer">Good Answers</a></li>
											<li id="n-Manual-Pages"><a href="http://www.net-snmp.org/man" rel="nofollow">Manual Pages</a></li>
											<li id="n-Tools"><a href="http://www.net-snmp.org/wiki/index.php/Category:Tools">Tools</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-wiki" role="navigation">
		<h3>wiki</h3>
		<div class='pBody'>
							<ul>
											<li id="n-recentchanges"><a href="http://www.net-snmp.org/wiki/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="http://www.net-snmp.org/wiki/index.php/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://www.net-snmp.org/wiki/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Net-SNMP Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="http://www.net-snmp.org/wiki/index.php/Special:WhatLinksHere/Release_Instructions" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="http://www.net-snmp.org/wiki/index.php/Special:RecentChangesLinked/Release_Instructions" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="http://www.net-snmp.org/wiki/index.php/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-info"><a href="http://www.net-snmp.org/wiki/index.php?title=Release_Instructions&amp;action=info" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="http://www.net-snmp.org/wiki/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/wiki/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /wiki/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="privacy"><a href="http://www.net-snmp.org/wiki/index.php/Net-SNMP_Wiki:Privacy_policy" title="Net-SNMP Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="http://www.net-snmp.org/wiki/index.php/Net-SNMP_Wiki:About" title="Net-SNMP Wiki:About">About Net-SNMP Wiki</a></li>
									<li id="disclaimer"><a href="http://www.net-snmp.org/wiki/index.php/Net-SNMP_Wiki:General_disclaimer" title="Net-SNMP Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["mediawiki.action.edit.collapsibleFooter","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"]);
} );</script><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":4719});
} );</script></body>
<!-- Mirrored from www.net-snmp.org/wiki/index.php?title=Release_Instructions&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 May 2024 19:13:00 GMT -->
</html>
