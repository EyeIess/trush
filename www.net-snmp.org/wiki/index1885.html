

<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from www.net-snmp.org/wiki/index.php?title=MIB_Module_ReWrites&printable=yes by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 May 2024 19:24:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>MIB Module ReWrites - Net-SNMP Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"MIB_Module_ReWrites","wgTitle":"MIB Module ReWrites","wgCurRevisionId":3374,"wgRevisionId":3374,"wgArticleId":1879,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!1,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"MIB_Module_ReWrites","wgRelevantArticleId":1879,"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits"]);
} );</script>
<link rel="stylesheet" href="load531d.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;printable=1&amp;skin=monobook" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="loadf198.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.26.3" />
<meta name="robots" content="noindex,follow" />
<link rel="shortcut icon" href="../favicon.html" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Net-SNMP Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api251f.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Net-SNMP Wiki Atom feed" href="apidf90.php?title=Special:RecentChanges&amp;feed=atom" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-MIB_Module_ReWrites skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">MIB Module ReWrites</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Net-SNMP Wiki</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>Given the widespread use of the Net-SNMP agent in a variety of distributions
and commercial applications, we have an implicit responsibility to maintain
a stable collection of MIB modules.
</p><p>Balanced against this is the desire to improve these MIB module implementations,
tidying up the code, and addressing deficiencies or inconsistencies as they
become apparant.  Some of these problems can be handled by incremental changes
as part of the normal development of the code.  But sometimes it proves
preferable to introduce a significant reworking of a given MIB module (or modules).
</p><p>This page attempts to outline a procedure for managing such module re-writes in
a responsible manner
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Re-Write_Policy"><span class="tocnumber">1</span> <span class="toctext">Re-Write Policy</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Default_MIB_modules"><span class="tocnumber">1.1</span> <span class="toctext">Default MIB modules</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Non-default_MIB_modules"><span class="tocnumber">1.2</span> <span class="toctext">Non-default MIB modules</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Module_re-write_terminology"><span class="tocnumber">1.3</span> <span class="toctext">Module re-write terminology</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Build_configuration"><span class="tocnumber">2</span> <span class="toctext">Build configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Invocation"><span class="tocnumber">2.1</span> <span class="toctext">Invocation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">3</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#History"><span class="tocnumber">4</span> <span class="toctext">History</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Re-Write_Policy">Re-Write Policy</span></h2>
<p>One significant issue is whether a given MIB module is typically part of a
"default build":
</p>
<pre>  configure&#160;; make&#160;; make install
</pre>
<p>or whether it needs to be explicitly included using
</p>
<pre>  configure --with-mib-modules=<i>xxx</i>
</pre>
<p>The proposed policies for default and non-default MIB modules are as follows:
</p>
<h3><span class="mw-headline" id="Default_MIB_modules">Default MIB modules</span></h3>
<p>Any significant re-working of a MIB module that is part of the default build
should be trialled for one full major release before being made active by
default.
</p><p>Once this re-write has been included in the default build, the previous
module implementation should remain available for a <b>minimum</b> of one
full major release before being considered for withdrawal.
</p><p>In most cases, there is little to be gained by removing the code from
the source tree, so such old implementations may well remain available
indefinitely.  But at a bare minimum, it should always be possible to
mimic the default build of one major release, using the code from the next.
</p>
<h3><span class="mw-headline" id="Non-default_MIB_modules">Non-default MIB modules</span></h3>
<p>Backwards compatibility is less critical for MIB modules that are not part
of a default build, and hence need to be explicitly activated.  In this
situation, it is reasonable to introduce a re-written version without
waiting for a full major release cycle.
</p><p>However, the previous code should still remain available for at least
one full major release (and typically for longer).
</p>
<h3><span class="mw-headline" id="Module_re-write_terminology">Module re-write terminology</span></h3>
<p>This basic policy implicitly defines two groups of MIB modules:
</p>
<dl><dt> upcoming re-writes</dt>
<dd> the collection of MIB module(s) which are currently being trialled, with a view to including them as part of the default build with the next major release</dd></dl>
<dl><dt> recently re-written</dt>
<dd> the collection of MIB module(s) which were part of the default build of the previous release, but have now been replaced by the previous set of <i>upcoming re-write</i> modules</dd></dl>
<h2><span class="mw-headline" id="Build_configuration">Build configuration</span></h2>
<p>The standard mechanism for selecting which MIB modules should be included or excluded
when compiling the Net-SNMP agent are the options
</p>
<pre>   configure --with-mib-modules=<i>xxx</i> --with-out-mib-modules=<i>yyy,zzz</i>
</pre>
<p>A suitable incantation will always be able to choose between recently re-written
and/or upcoming MIB module re-writes.
However, this may require a non-trivial understanding of the internal organisation
of the MIB modules concerned, and the inter-relationships between them.
It also assumes knowledge of which modules are candidates for re-writing
(or have recently been re-written).
</p><p>The 5.2.x release line introduced a new option
</p>
<pre>   configure --enable-mfd-rewrites
</pre>
<p>which was used to activate a particular subset of MIB module re-writes.
It is proposed that this functionality should be subsumed within a more
general configure option, which can then be used to control <b>all</b>
upcoming and recently re-written MIB modules.
</p>
<h3><span class="mw-headline" id="Invocation">Invocation</span></h3>
<p>There should be two basic modes of invoking this option:
</p>
<pre>   configure --enable-mib-rewrites    <i>or</i>
   configure --with-mib-rewrites
</pre>
<p>should activate all "upcoming re-writes".
This would provide a simple mechanism for advance testing of
any significant problems with the next major release.
</p>
<pre>   configure --disable-mib-rewrites    <i>or</i>
   configure --with-out-mib-rewrites
</pre>
<p>should re-activate all "recently re-written" MIB modules.
This would provide a simple mechanism for reverting to
the default build configuration of the previous major release.
</p><p>Both of these options could also take a list of specific re-writes
to apply or revert, without requiring detailed knowledge of the
internal MIB module structure.
</p><p>It would probably also be useful to provide an option
</p>
<pre>   configure --list-mib-rewrites
</pre>
<p>to display a list of both upcoming re-writes, and recently
re-written modules, thus providing suitable values for
the options outlined above.
</p>
<h2><span class="mw-headline" id="Examples">Examples</span></h2>
<p>The various release code lines include an (optional) <i>lmSensors</i>
module, which would typically be included via the header directive
</p>
<pre>   config_require( ucd-snmp/lmSensors )
</pre>
<p>The current development code (which will eventually become 5.5)
includes a re-written version (<i>lmSensorsMib</i>), designed to use
the hardware/sensors module.   This could be trialled in the 5.5
release line by changing this header directive to be:
</p>
<pre>   configure_new_require(  ucd-snmp/lmSensors,  ucd-snmp/lmSensorsMib)
</pre>
<p>This version would then become the default in the following release (5.6)
by changing this header directive to be:
</p>
<pre>   configure_old_require(  ucd-snmp/lmSensors,  ucd-snmp/lmSensorsMib)
</pre>
<p>This could then be dropped in subsequent release lines (5.7 and above),
reverting to the basic:
</p>
<pre>   config_require( ucd-snmp/lmSensorsMib )
</pre>
<p>or retained, to allow continued easy access to the previous code.
</p><p>Note that this earlier version would always be accessible by running
</p>
<pre>   configure --with-mib-modules=ucd-snmp/lmSensors
             --without-mib-modules=ucd-snmp/lmSensorsMib
</pre>
<p><br />
Note also that it would not be possible to support both "backwards
compatibility" and "forwards trialling" in the same release code.
The code could contain <b>either</b> <code>config_old_require</code>
<b>or</b> <code>config_new_require</code>, but not both.
</p><p><br />
</p>
<h2><span class="mw-headline" id="History">History</span></h2>
<p>[ ] <i>Draw up a table of which MIB modules were re-written, and when</i>
</p>
<!-- 
NewPP limit report
Cached time: 20240514190944
Cache expiry: 0
Dynamic content: true
CPU time usage: 0.006 seconds
Real time usage: 0.008 seconds
Preprocessor visited node count: 31/1000000
Preprocessor generated node count: 36/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index8356.html?title=MIB_Module_ReWrites&amp;oldid=3374">http://www.net-snmp.org/wiki/index.php?title=MIB_Module_ReWrites&amp;oldid=3374</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php/MIB_Module_ReWrites.html" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="index.php/Talk_MIB_Module_ReWrites.html?title=Talk:MIB_Module_ReWrites&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="index2396.html?title=MIB_Module_ReWrites&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="index54ef.html?title=MIB_Module_ReWrites&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="index7c89.html?title=Special:UserLogin&amp;returnto=MIB+Module+ReWrites&amp;returntoquery=printable%3Dyes&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="index9136.html?title=Special:UserLogin&amp;returnto=MIB+Module+ReWrites&amp;returntoquery=printable%3Dyes" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.php/Main_Page.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-project" role="navigation">
		<h3>project</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Web-Site"><a href="../index.html" rel="nofollow">Web Site</a></li>
											<li id="n-Wiki"><a href="index.php/Main_Page.html">Wiki</a></li>
											<li id="n-Download"><a href="../download.html" rel="nofollow">download</a></li>
											<li id="n-Mailing-Lists"><a href="../support/mailinglists.html" rel="nofollow">Mailing Lists</a></li>
											<li id="n-Bug-Reports"><a href="../support/bugreports.html" rel="nofollow">Bug Reports</a></li>
											<li id="n-Patches"><a href="../support/patches.html" rel="nofollow">Patches</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-documentation" role="navigation">
		<h3>documentation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Tutorials"><a href="index.php/Tutorials.html">Tutorials</a></li>
											<li id="n-FAQ"><a href="index.php/FAQ.html">FAQ</a></li>
											<li id="n-Good-Answers"><a href="index.php/Category_GoodAnswer.html">Good Answers</a></li>
											<li id="n-Manual-Pages"><a href="../man/index.html" rel="nofollow">Manual Pages</a></li>
											<li id="n-Tools"><a href="index.php/Category_Tools.html">Tools</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-wiki" role="navigation">
		<h3>wiki</h3>
		<div class='pBody'>
							<ul>
											<li id="n-recentchanges"><a href="index.php/Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="index.php/Notes20111219.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://www.net-snmp.org/wiki/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Net-SNMP Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="index.php/Special_WhatLinksHere/MIB_Module_ReWrites.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="index.php/Special_RecentChangesLinked/MIB_Module_ReWrites.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="index.php/Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="index8356.html?title=MIB_Module_ReWrites&amp;oldid=3374" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="indexe8c0.html?title=MIB_Module_ReWrites&amp;action=info" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/wiki/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /wiki/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 9 May 2008, at 20:00.</li>
									<li id="privacy"><a href="index.php/Net-SNMP_Wiki_Privacy_policy.html" title="Net-SNMP Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="index.php/Net-SNMP_Wiki_About.html" title="Net-SNMP Wiki:About">About Net-SNMP Wiki</a></li>
									<li id="disclaimer"><a href="index.php/Net-SNMP_Wiki_General_disclaimer.html" title="Net-SNMP Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"]);
} );</script><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":543});
} );</script></body>
<!-- Mirrored from www.net-snmp.org/wiki/index.php?title=MIB_Module_ReWrites&printable=yes by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 May 2024 19:24:30 GMT -->
</html>
